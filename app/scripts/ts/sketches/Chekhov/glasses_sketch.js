/**
 * Created by kev on 15-11-05.
 */

define(['base_sketch','utils/canvas_utils'],

    function(Basesketch, CanvasUtils){

        return Basesketch.extend({

            buffer : null,

            initialize : function(){

                this.buffer = CanvasUtils.CreateBuffer();
                this.el.appendChild(this.buffer.canvas);
            },

            draw : function(){
                this.buffer.clear();
                var ctx = this.buffer.ctx;
                ctx.strokeStyle = 'rgba(0,0,0,0)';
                ctx.lineCap = 'butt';
                ctx.lineJoin = 'miter';
                ctx.miterLimit = 4;

                ctx.save();
                ctx.scale(1 + this.scrollRatio * 10, 1 + this.scrollRatio * 10);
                ctx.fillStyle = "#ef4681";
                ctx.beginPath();
                ctx.moveTo(116.6,29.5);
                ctx.bezierCurveTo(113.19999999999999,27.1,108.6,22,110.19999999999999,16.9);
                ctx.bezierCurveTo(111.79999999999998,11.899999999999999,119.6,7.899999999999999,127.79999999999998,7.899999999999999);
                ctx.bezierCurveTo(137.99999999999997,7.899999999999999,146.99999999999997,11.899999999999999,149.2,17.4);
                ctx.bezierCurveTo(151,21.9,147.39999999999998,26.5,144.1,29.599999999999998);
                ctx.lineTo(148.79999999999998,34.599999999999994);
                ctx.bezierCurveTo(148.79999999999998,34.8,148.7,34.99999999999999,148.7,35.199999999999996);
                ctx.bezierCurveTo(147.5,49.7,162,63,181.2,64.7);
                ctx.bezierCurveTo(182.6,64.8,183.89999999999998,64.9,185.29999999999998,64.9);
                ctx.lineTo(185.29999999999998,64.9);
                ctx.bezierCurveTo(202.89999999999998,64.9,217.1,54.7,218.29999999999998,41.300000000000004);
                ctx.bezierCurveTo(218.89999999999998,34.00000000000001,215.79999999999998,26.900000000000006,209.29999999999998,21.300000000000004);
                ctx.bezierCurveTo(203.2,16.000000000000004,194.89999999999998,12.600000000000005,185.89999999999998,11.800000000000004);
                ctx.bezierCurveTo(174.7,10.800000000000004,164.59999999999997,13.900000000000004,157.79999999999998,19.500000000000004);
                ctx.bezierCurveTo(157.7,17.500000000000004,157.29999999999998,15.800000000000004,156.79999999999998,14.500000000000004);
                ctx.bezierCurveTo(153.2,5.8,141.7,0,127.9,0);
                ctx.bezierCurveTo(116,0,105.4,6.1,102.7,14.5);
                ctx.bezierCurveTo(102.3,15.6,102,17,102,18.7);
                ctx.bezierCurveTo(95.2,13.7,85.5,10.899999999999999,75,11.799999999999999);
                ctx.bezierCurveTo(66,12.6,57.6,15.899999999999999,51.6,21.299999999999997);
                ctx.bezierCurveTo(47.9,24.599999999999998,45.300000000000004,28.4,43.800000000000004,32.4);
                ctx.lineTo(45.2,31.599999999999998);
                ctx.lineTo(38.1,33.4);
                ctx.bezierCurveTo(31.8,34.8,28.1,39.3,25.8,46.2);
                ctx.lineTo(0,136);
                ctx.lineTo(7.6,138.2);
                ctx.lineTo(33.4,48.19999999999999);
                ctx.lineTo(33.5,47.79999999999999);
                ctx.bezierCurveTo(34.5,44.39999999999999,37.6,41.99999999999999,40,41.09999999999999);
                ctx.bezierCurveTo(40,41.09999999999999,41.5,40.499999999999986,42.7,40.29999999999999);
                ctx.bezierCurveTo(42.7,40.29999999999999,42.6,40.89999999999999,42.6,41.29999999999999);
                ctx.bezierCurveTo(43.8,54.7,58,64.8,75.6,64.8);
                ctx.bezierCurveTo(76.89999999999999,64.8,78.3,64.7,79.6,64.6);
                ctx.bezierCurveTo(98.1,62.99999999999999,112.3,50.49999999999999,112,36.49999999999999);
                ctx.bezierCurveTo(112,36.49999999999999,111.9,34.89999999999999,111.8,34.79999999999999);
                ctx.lineTo(113,33.59999999999999);
                ctx.lineTo(116.6,29.5);
                ctx.closePath();
                ctx.moveTo(181.8,19.5);
                ctx.bezierCurveTo(182.9,19.5,184,19.5,185.20000000000002,19.6);
                ctx.bezierCurveTo(192.60000000000002,20.200000000000003,199.3,22.900000000000002,204.10000000000002,27.1);
                ctx.bezierCurveTo(208.60000000000002,31,210.8,35.7,210.40000000000003,40.5);
                ctx.bezierCurveTo(209.50000000000003,50.6,196.90000000000003,58,182.00000000000003,56.7);
                ctx.bezierCurveTo(167.20000000000002,55.400000000000006,155.90000000000003,46,156.80000000000004,35.800000000000004);
                ctx.bezierCurveTo(157.5,26.5,168.3,19.5,181.8,19.5);
                ctx.moveTo(56.8,27.2);
                ctx.bezierCurveTo(61.599999999999994,23,68.3,20.299999999999997,75.69999999999999,19.7);
                ctx.bezierCurveTo(76.79999999999998,19.599999999999998,77.99999999999999,19.599999999999998,79.1,19.599999999999998);
                ctx.bezierCurveTo(92.6,19.599999999999998,103.3,26.599999999999998,104.19999999999999,35.9);
                ctx.bezierCurveTo(105.1,46.099999999999994,93.79999999999998,55.5,78.99999999999999,56.8);
                ctx.bezierCurveTo(64,58.1,51.4,50.6,50.5,40.5);
                ctx.bezierCurveTo(50.1,35.8,52.3,31.1,56.8,27.2);
                ctx.fill();
                ctx.stroke();

                ctx.restore();
            },

            resize : function(w, h){
                this.buffer.resize(w, h);
            }


        })

    });